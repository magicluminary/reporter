!function(i){i.fn.pgwSlider=function(n){var t={mainClassName:"pgwSlider",listPosition:"right",selectionMode:"click",transitionEffect:"fading",autoSlide:!0,displayList:!0,displayControls:!1,touchControls:!0,verticalCentering:!1,adaptiveHeight:!1,maxHeight:null,beforeSlide:null,afterSlide:null,adaptiveDuration:200,transitionDuration:500,intervalDuration:3e3};if(0==this.length)return this;if(this.length>1)return this.each(function(){i(this).pgwSlider(n)}),this;var e=this;e.plugin=this,e.data=[],e.config={},e.currentSlide=0,e.slideCount=0,e.resizeEvent=null,e.intervalEvent=null,e.touchFirstPosition=null,e.transitionInProgress=!1,e.window=i(window);var s=function(n,t){return e.config.maxHeight&&(e.plugin.width()>480&&n>e.config.maxHeight?n=e.config.maxHeight:e.plugin.width()<=480&&n+e.plugin.find(".ps-list").height()>e.config.maxHeight&&(n=e.config.maxHeight-e.plugin.find(".ps-list").height())),clearTimeout(e.resizeEvent),e.resizeEvent=setTimeout(function(){var s=(n-6*(e.slideCount-1))/e.slideCount,o=100/e.slideCount;e.plugin.find(".ps-list > li").css({width:o+"%"}),void 0!==t&&t&&null==e.config.maxHeight&&"function"==typeof e.plugin.find(".ps-current").animate?e.plugin.find(".ps-current").animate({height:n},e.config.adaptiveDuration,function(){e.plugin.find(".ps-list > li").animate({height:s},e.config.adaptiveDuration)}):(e.plugin.find(".ps-current").css("height",n),e.plugin.find(".ps-list > li").css("height",s)),e.config.verticalCentering&&(e.plugin.find(".ps-list > li").each(function(){if(s>50&&i(this).find("img").height()>s){var n=Math.round((i(this).find("img").height()-s)/2);i(this).find("img").css("margin-top",-n)}else if(i(this).find("img").height()<s){n=Math.round((s-i(this).find("img").height())/2);i(this).find("img").css("margin-top",n)}else i(this).find("img").css("margin-top","")}),e.plugin.find(".ps-current > ul > li").each(function(){var t="none"!=i(this).css("display");if(t||i(this).show(),i(this).show().find("img").height()>n){var e=Math.round((i(this).find("img").height()-n)/2);i(this).find("img").css("margin-top",-e)}else if(i(this).show().find("img").height()<n){e=Math.round((n-i(this).find("img").height())/2);i(this).find("img").css("margin-top",e)}else i(this).find("img").css("margin-top","");t||i(this).hide()}))},100),!0},o=function(){return e.plugin.width()<=480?e.plugin.addClass("narrow").removeClass("wide"):e.plugin.addClass("wide").removeClass("narrow"),!0},l=function(){if(e.plugin.removeClass(e.config.mainClassName).addClass("ps-list"),e.plugin.wrap('<div class="'+e.config.mainClassName+'"></div>'),e.plugin=e.plugin.parent(),e.plugin.prepend('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'),e.slideCount=e.plugin.find(".ps-list > li").length,0==e.slideCount)throw new Error("PgwSlider - No slider item has been found");e.config.displayControls&&e.slideCount>1&&(e.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),e.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),e.plugin.find(".ps-current .ps-prev").click(function(){e.previousSlide()}),e.plugin.find(".ps-current .ps-next").click(function(){e.nextSlide()})),e.config.displayList||(e.plugin.find(".ps-current").css("width","100%"),e.plugin.find(".ps-list").hide());var n=1;return e.plugin.find(".ps-list > li").each(function(){var t=function(i){var n={},t=i.find("a").attr("href");if(void 0!==t&&""!=t){n.link=t;var e=i.find("a").attr("target");void 0!==e&&""!=e&&(n.linkTarget=e)}var s=i.find("img").attr("src");void 0!==s&&""!=s&&(n.thumbnail=s);var o=i.find("img").attr("data-large-src");void 0!==o&&""!=o&&(n.image=o);var l=i.find("span").text();if(void 0!==l&&""!=l&&null!=l)n.title=l;else{var r=i.find("img").attr("alt");void 0!==r&&""!=r&&(n.title=r)}var a=i.find("img").attr("data-description");return void 0!==a&&""!=a&&(n.description=a),n}(i(this));t.id=n,e.data.push(t),i(this).addClass("elt_"+t.id),t.title&&(1==i(this).find("span").length?""==i(this).find("span").text()&&i(this).find("span").text(t.title):i(this).find("img").after("<span>"+t.title+"</span>"));var s=i('<li class="elt_'+n+'"></li>');t.image?s.html('<img src="'+t.image+'" alt="'+(t.title?t.title:"")+'">'):t.thumbnail&&s.html('<img src="'+t.thumbnail+'" alt="'+(t.title?t.title:"")+'">'),t.link&&s.html('<a href="'+t.link+'"'+(t.linkTarget?' target="'+t.linkTarget+'"':"")+">"+s.html()+"</a>"),e.plugin.find(".ps-current > ul").append(s),"mouseOver"==e.config.selectionMode&&"fading"==e.config.transitionEffect?(i(this).css("cursor","default").click(function(i){i.preventDefault()}).bind("mouseenter",function(i){a(t.id)}),i(this).find("a").css("cursor","default")):i(this).css("cursor","pointer").click(function(i){i.preventDefault(),a(t.id)}),n++}),"left"==e.config.listPosition&&e.plugin.addClass("listOnTheLeft"),e.config.autoSlide&&e.plugin.on("mouseenter",function(){clearInterval(e.intervalEvent),e.intervalEvent=null}).on("mouseleave",function(){c()}),a(1),e.plugin.find(".ps-current > ul > li.elt_1 img").on("load",function(){o();var i=e.plugin.find(".ps-current > ul > li.elt_1 img").height();s(i),e.window.resize(function(){o();var i=e.plugin.find(".ps-current > ul > li.elt_"+e.currentSlide+" img").height();s(i,e.config.adaptiveHeight)})}),e.config.touchControls&&e.slideCount>1&&(e.plugin.find(".ps-current").on("touchstart",function(i){try{i.originalEvent.touches[0].clientX&&null==e.touchFirstPosition&&(e.touchFirstPosition=i.originalEvent.touches[0].clientX)}catch(i){e.touchFirstPosition=null}}),e.plugin.find(".ps-current").on("touchmove",function(i){try{i.originalEvent.touches[0].clientX&&null!=e.touchFirstPosition&&(i.originalEvent.touches[0].clientX>e.touchFirstPosition+50?(e.touchFirstPosition=null,e.previousSlide()):i.originalEvent.touches[0].clientX<e.touchFirstPosition-50&&(e.touchFirstPosition=null,e.nextSlide()))}catch(i){e.touchFirstPosition=null}}),e.plugin.find(".ps-current").on("touchend",function(i){e.touchFirstPosition=null})),!0},r=function(i){var n="";if(i.title&&(n+="<b>"+i.title+"</b>"),i.description&&(""!=n&&(n+="<br>"),n+=i.description),""!=n&&(i.link&&(n='<a href="'+i.link+'"'+(i.linkTarget?' target="'+i.linkTarget+'"':"")+">"+n+"</a>"),"function"==typeof e.plugin.find(".ps-caption").fadeIn?(e.plugin.find(".ps-caption").html(n),e.plugin.find(".ps-caption").fadeIn(e.config.transitionDuration/2)):(e.plugin.find(".ps-caption").html(n),e.plugin.find(".ps-caption").show())),e.config.displayControls&&("function"==typeof e.plugin.find(".ps-current > .ps-prev").fadeIn?e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(e.config.transitionDuration/2):e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()),"function"==typeof e.config.afterSlide&&e.config.afterSlide(i.id),e.config.adaptiveHeight){var t=e.plugin.find(".ps-current .elt_"+i.id+" img").height();s(t,!0)}return!0},a=function(n,t,s){if(n==e.currentSlide)return!1;var o=e.data[n-1];if(void 0===o)throw new Error("PgwSlider - The element "+n+" is undefined");return void 0===s&&(s="left"),"function"==typeof e.config.beforeSlide&&e.config.beforeSlide(n),"function"==typeof e.plugin.find(".ps-caption").fadeOut?e.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(e.config.transitionDuration/2):e.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(),"sliding"==e.config.transitionEffect?function(i,n){var t=e.plugin.find(".ps-current > ul");if(void 0===n&&(n="left"),0==e.currentSlide)t.find(".elt_1").css({position:"",left:"",opacity:1,"z-index":2}).show(),e.plugin.find(".ps-list > li.elt_1").css("opacity","1"),r(i);else{if(e.transitionInProgress)return!1;e.transitionInProgress=!0;var s=t.width();if("left"==n)var o=-s,l=s;else o=s,l=-s;var a=t.find(".elt_"+e.currentSlide);"function"!=typeof a.animate&&(a.animate=function(i,n,t){a.css(i),t&&t()}),a.css("position","absolute").animate({left:o},e.config.transitionDuration,function(){a.css("position","").css("z-index",1).css("left","").css("opacity",0).hide()});var c=t.find(".elt_"+i.id);"function"!=typeof c.animate&&(c.animate=function(i,n,t){c.css(i),t&&t()}),c.css("position","absolute").css("left",l).css("opacity",1).show().animate({left:0},e.config.transitionDuration,function(){c.css("position","").css("left","").css("z-index",2).show(),e.transitionInProgress=!1,e.plugin.find(".ps-list > li").css("opacity","0.6"),e.plugin.find(".ps-list > li.elt_"+i.id).css("opacity","1"),r(i)})}e.currentSlide=i.id}(o,s):function(n){var t=e.plugin.find(".ps-current > ul");if(e.plugin.find(".ps-list > li").css("opacity","0.6"),e.plugin.find(".ps-list > li.elt_"+n.id).css("opacity","1"),e.plugin.find(".ps-list > li").removeClass("active"),e.plugin.find(".ps-list > li.elt_"+n.id).addClass("active"),t.find("li").not(".elt_"+e.currentSlide).not(".elt_"+n.id).each(function(){"function"==typeof i(this).stop&&i(this).stop(),i(this).css("position","").css("z-index",1).hide()}),e.currentSlide>0){var s=t.find(".elt_"+e.currentSlide);"function"!=typeof s.animate&&(s.animate=function(i,n,t){s.css(i),t&&t()}),"function"==typeof s.stop&&s.stop(),s.css("position","absolute").animate({opacity:0},e.config.transitionDuration,function(){s.css("position","").css("z-index",1).hide()})}e.currentSlide=n.id;var o=t.find(".elt_"+n.id);"function"!=typeof o.animate&&(o.animate=function(i,n,t){o.css(i),t&&t()}),"function"==typeof o.stop&&o.stop(),o.css("position","absolute").show().animate({opacity:1},e.config.transitionDuration,function(){o.css("position","").css("z-index",2).show(),r(n)})}(o),void 0!==t&&e.config.autoSlide&&c(),!0},c=function(){return clearInterval(e.intervalEvent),e.slideCount>1&&e.config.autoSlide&&(e.intervalEvent=setInterval(function(){if(e.currentSlide+1<=e.slideCount)var i=e.currentSlide+1;else i=1;a(i)},e.config.intervalDuration)),!0};return e.startSlide=function(){return e.config.autoSlide=!0,c(),!0},e.stopSlide=function(){return e.config.autoSlide=!1,clearInterval(e.intervalEvent),!0},e.getCurrentSlide=function(){return e.currentSlide},e.getSlideCount=function(){return e.slideCount},e.displaySlide=function(i){return a(i,!0),!0},e.nextSlide=function(){if(e.currentSlide+1<=e.slideCount)var i=e.currentSlide+1;else i=1;return a(i,!0,"left"),!0},e.previousSlide=function(){if(e.currentSlide-1>=1)var i=e.currentSlide-1;else i=e.slideCount;return a(i,!0,"right"),!0},e.destroy=function(n){return clearInterval(e.intervalEvent),void 0!==n?(e.plugin.find(".ps-list > li").each(function(){i(this).attr("style",null).removeClass().css("cursor","").unbind("click").unbind("mouseenter"),i(this).find("a").css("cursor",""),i(this).find("img").attr("style",null)}),e.plugin.find(".ps-list").addClass(e.config.mainClassName).removeClass("ps-list"),e.plugin.find(".ps-current").unwrap().remove(),e.hide()):e.parent().remove(),e.plugin=null,e.data=[],e.config={},e.currentSlide=0,e.slideCount=0,e.resizeEvent=null,e.intervalEvent=null,e.touchFirstPosition=null,e.transitionInProgress=!1,e.window=null,!0},e.reload=function(n){return e.destroy(!0),(e=this).plugin=this,e.window=i(window),e.plugin.show(),e.config=i.extend({},t,n),l(),e.config.autoSlide&&c(),!0},e.config=i.extend({},t,n),l(),e.config.autoSlide&&c(),this}}(window.Zepto||window.jQuery),function(i){i.fn.pgwSlideshow=function(n){var t={mainClassName:"pgwSlideshow",transitionEffect:"sliding",displayList:!0,displayControls:!0,touchControls:!0,autoSlide:!1,beforeSlide:!1,afterSlide:!1,maxHeight:null,adaptiveDuration:200,transitionDuration:500,intervalDuration:3e3};if(0==this.length)return this;if(this.length>1)return this.each(function(){i(this).pgwSlideshow(n)}),this;var e=this;e.plugin=this,e.config={},e.data=[],e.currentSlide=0,e.slideCount=0,e.resizeEvent=null,e.intervalEvent=null,e.touchFirstPosition=null,e.touchListLastPosition=!1,e.window=i(window);var s=function(i,n){return e.config.maxHeight&&i+e.plugin.find(".ps-list").height()>e.config.maxHeight&&(i=e.config.maxHeight-e.plugin.find(".ps-list").height()),"function"==typeof e.plugin.find(".ps-current").animate?e.plugin.find(".ps-current").stop().animate({height:i},e.config.adaptiveDuration,function(){e.config.maxHeight&&e.plugin.find(".ps-current > ul > li img").css("max-height",i+"px")}):(e.plugin.find(".ps-current").css("height",i),e.config.maxHeight&&e.plugin.find(".ps-current > ul > li img").css("max-height",i+"px")),!0},o=function(){var n=0;return e.plugin.show(),e.plugin.find(".ps-list > ul > li").show().each(function(){n+=i(this).width()}),e.plugin.find(".ps-list > ul").width(n),!0},l=function(){return e.plugin.width()<=480?e.plugin.addClass("narrow").removeClass("wide"):e.plugin.addClass("wide").removeClass("narrow"),!0},r=function(){if(e.plugin.removeClass("pgwSlideshow").removeClass(e.config.mainClassName),e.plugin.wrap('<div class="ps-list"></div>'),e.plugin=e.plugin.parent(),e.plugin.wrap('<div class="'+e.config.mainClassName+'"></div>'),e.plugin=e.plugin.parent(),e.plugin.prepend('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'),e.slideCount=e.plugin.find(".ps-list > ul > li").length,0==e.slideCount)throw new Error("pgwSlideshow - No slider item has been found");e.slideCount>1&&(e.config.displayControls&&(e.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),e.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),e.plugin.find(".ps-current .ps-prev").click(function(){e.previousSlide()}),e.plugin.find(".ps-current .ps-next").click(function(){e.nextSlide()})),e.config.touchControls&&(e.plugin.find(".ps-current").on("touchstart",function(i){try{i.originalEvent.touches[0].clientX&&null==e.touchFirstPosition&&(e.touchFirstPosition=i.originalEvent.touches[0].clientX)}catch(i){e.touchFirstPosition=null}}),e.plugin.find(".ps-current").on("touchmove",function(i){try{i.originalEvent.touches[0].clientX&&null!=e.touchFirstPosition&&(i.originalEvent.touches[0].clientX>e.touchFirstPosition+50?(e.touchFirstPosition=null,e.previousSlide()):i.originalEvent.touches[0].clientX<e.touchFirstPosition-50&&(e.touchFirstPosition=null,e.nextSlide()))}catch(i){e.touchFirstPosition=null}}),e.plugin.find(".ps-current").on("touchend",function(i){e.touchFirstPosition=null})));var n=1;return e.plugin.find(".ps-list > ul > li").each(function(){var t=a(i(this));t.id=n,e.data.push(t),i(this).addClass("elt_"+t.id),i(this).wrapInner('<span class="ps-item'+(1==n?" ps-selected":"")+'"></span>');var s=i('<li class="elt_'+n+'"></li>');t.image?s.html('<img src="'+t.image+'" alt="'+(t.title?t.title:"")+'">'):t.thumbnail&&s.html('<img src="'+t.thumbnail+'" alt="'+(t.title?t.title:"")+'">'),t.link&&s.html('<a href="'+t.link+'"'+(t.linkTarget?' target="'+t.linkTarget+'"':"")+">"+s.html()+"</a>"),e.plugin.find(".ps-current > ul").append(s),i(this).css("cursor","pointer").click(function(i){i.preventDefault(),u(t.id)}),n++}),e.config.displayList?(o(),e.plugin.find(".ps-list").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),e.plugin.find(".ps-list").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),e.plugin.find(".ps-list").show()):e.plugin.find(".ps-list").hide(),e.config.autoSlide&&e.plugin.on("mouseenter",function(){clearInterval(e.intervalEvent),e.intervalEvent=null}).on("mouseleave",function(){d()}),e.plugin.find(".ps-current > ul > li").hide(),u(1),e.plugin.find(".ps-current > ul > li.elt_1 img").on("load",function(){l();var i=e.plugin.find(".ps-current > ul > li.elt_1 img").height();s(i)}),l(),e.plugin.show(),!0},a=function(i){var n={},t=i.find("a").attr("href");if(void 0!==t&&""!=t){n.link=t;var e=i.find("a").attr("target");void 0!==e&&""!=e&&(n.linkTarget=e)}var s=i.find("img").attr("src");void 0!==s&&""!=s&&(n.thumbnail=s);var o=i.find("img").attr("data-large-src");void 0!==o&&""!=o&&(n.image=o);var l=i.find("img").attr("alt");void 0!==l&&""!=l&&(n.title=l);var r=i.find("img").attr("data-description");return void 0!==r&&""!=r&&(n.description=r),n},c=function(i){var n="";i.title&&(n+="<b>"+i.title+"</b>"),i.description&&(""!=n&&(n+="<br>"),n+=i.description),""!=n&&(i.link&&(n='<a href="'+i.link+'"'+(i.linkTarget?' target="'+i.linkTarget+'"':"")+">"+n+"</a>"),"function"==typeof e.plugin.find(".ps-caption").fadeIn?(e.plugin.find(".ps-caption").html(n),e.plugin.find(".ps-caption").fadeIn(e.config.transitionDuration/2)):(e.plugin.find(".ps-caption").html(n),e.plugin.find(".ps-caption").show())),e.plugin.find(".ps-list > ul > li .ps-item").removeClass("ps-selected"),e.plugin.find(".ps-list > ul > li.elt_"+i.id+" .ps-item").addClass("ps-selected"),e.config.displayList&&(p(),f()),e.config.displayControls&&("function"==typeof e.plugin.find(".ps-current > .ps-prev").fadeIn?e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(e.config.transitionDuration/2):e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()),"function"==typeof e.config.afterSlide&&e.config.afterSlide(i.id);var t=e.plugin.find(".ps-current .elt_"+i.id+" img").height();return s(t,!0),!0},u=function(n,t,s){if(n==e.currentSlide)return!1;var o=e.data[n-1];if(void 0===o)throw new Error("pgwSlideshow - The element "+n+" is undefined");return void 0===s&&(s="left"),"function"==typeof e.config.beforeSlide&&e.config.beforeSlide(n),"function"==typeof e.plugin.find(".ps-caption").fadeOut?e.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(e.config.transitionDuration/2):e.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(),"sliding"==e.config.transitionEffect?function(i,n){var t=e.plugin.find(".ps-current > ul");if(void 0===n&&(n="left"),0==e.currentSlide)t.find(".elt_1").css({position:"",left:"",opacity:1,"z-index":2}).show(),e.plugin.find(".ps-list > li.elt_1").css("opacity","1"),c(i);else{if(e.transitionInProgress)return!1;e.transitionInProgress=!0;var s=t.width();if("left"==n)var o=-s,l=s;else o=s,l=-s;var r=t.find(".elt_"+e.currentSlide);"function"!=typeof r.animate&&(r.animate=function(i,n,t){r.css(i),t&&t()}),r.css("position","absolute").animate({left:o},e.config.transitionDuration,function(){r.css("position","").css("z-index",1).css("left","").css("opacity",0).hide()});var a=t.find(".elt_"+i.id);"function"!=typeof a.animate&&(a.animate=function(i,n,t){a.css(i),t&&t()}),a.css("position","absolute").css("left",l).css("opacity",1).show().animate({left:0},e.config.transitionDuration,function(){a.css("position","").css("left","").css("z-index",2).show(),e.transitionInProgress=!1,c(i)})}e.currentSlide=i.id}(o,s):function(n){var t=e.plugin.find(".ps-current > ul");if(t.find("li").not(".elt_"+e.currentSlide).not(".elt_"+n.id).each(function(){"function"==typeof i(this).stop&&i(this).stop(),i(this).css("position","").css("z-index",1).hide()}),e.currentSlide>0){var s=t.find(".elt_"+e.currentSlide);"function"!=typeof s.animate&&(s.animate=function(i,n,t){s.css(i),t&&t()}),"function"==typeof s.stop&&s.stop(),s.css("position","absolute").animate({opacity:0},e.config.transitionDuration,function(){s.css("position","").css("z-index",1).hide()})}e.currentSlide=n.id;var o=t.find(".elt_"+n.id);"function"!=typeof o.animate&&(o.animate=function(i,n,t){o.css(i),t&&t()}),"function"==typeof o.stop&&o.stop(),o.css("position","absolute").show().animate({opacity:1},e.config.transitionDuration,function(){o.css("position","").css("z-index",2).css("display","block"),c(n)})}(o),void 0!==t&&e.config.autoSlide&&d(),!0},d=function(){return clearInterval(e.intervalEvent),e.slideCount>1&&e.config.autoSlide&&(e.intervalEvent=setInterval(function(){if(e.currentSlide+1<=e.slideCount)var i=e.currentSlide+1;else i=1;u(i)},e.config.intervalDuration)),!0},p=function(){if(!e.config.displayList)return!1;o();var i=e.plugin.find(".ps-list"),n=i.width(),t=e.plugin.find(".ps-list > ul"),s=t.width();if(s>n){t.css("margin","0 45px");var l=parseInt(t.css("margin-left")),r=parseInt(t.css("margin-right"));n-=l+r,i.find(".ps-prev").show().unbind("click").click(function(){var i=parseInt(t.css("left")),o=i+n;0==i?o=-(s-n):o>0&&(o=0),"function"==typeof t.animate?t.animate({left:o},e.config.transitionDuration):t.css("left",o)}),i.find(".ps-next").show().unbind("click").click(function(){var i=parseInt(t.css("left")),o=i-n,l=-(s-n);i==l?o=0:o<l&&(o=l),"function"==typeof t.animate?t.animate({left:o},e.config.transitionDuration):t.css("left",o)}),e.config.touchControls&&(e.plugin.find(".ps-list > ul").on("touchmove",function(n){try{if(n.originalEvent.touches[0].clientX){var s=0==e.touchListLastPosition?0:e.touchListLastPosition;nbPixels=0==e.touchListLastPosition?1:Math.abs(s-n.originalEvent.touches[0].clientX),e.touchListLastPosition=n.originalEvent.touches[0].clientX;var o="";s>n.originalEvent.touches[0].clientX?o="left":s<n.originalEvent.touches[0].clientX&&(o="right")}var l=parseInt(t.css("left"));if("left"==o){var r=i.width(),a=t.width(),c=parseInt(t.css("margin-left")),u=parseInt(t.css("margin-right"));(d=l-nbPixels)>-(a-(r-=c+u))&&t.css("left",d)}else if("right"==o){var d;(d=l+nbPixels)<0?t.css("left",d):t.css("left",0)}}catch(n){e.touchListLastPosition=!1}}),e.plugin.find(".ps-list > ul").on("touchend",function(i){e.touchListLastPosition=!1}))}else{l=parseInt((n-s)/2);t.css("left",0).css("margin-left",l),i.find(".ps-prev").hide(),i.find(".ps-next").hide(),e.plugin.find(".ps-list > ul").unbind("touchstart touchmove touchend")}return!0},f=function(){var i=e.plugin.find(".ps-list").width(),n=e.plugin.find(".ps-list > ul"),t=n.width();i-=parseInt(n.css("margin-left"))+parseInt(n.css("margin-right"));var s=Math.abs(parseInt(n.css("left"))),o=s+i,l=e.plugin.find(".ps-list .ps-selected").position().left,r=l+e.plugin.find(".ps-list .ps-selected").width();if(l<s||r>o||t>i&&o>r){var a=-(t-i);-l<a?n.css("left",a):n.css("left",-l)}return!0};return e.startSlide=function(){return e.config.autoSlide=!0,d(),!0},e.stopSlide=function(){return e.config.autoSlide=!1,clearInterval(e.intervalEvent),!0},e.getCurrentSlide=function(){return e.currentSlide},e.getSlideCount=function(){return e.slideCount},e.displaySlide=function(i){return u(i,!0),!0},e.nextSlide=function(){if(e.currentSlide+1<=e.slideCount)var i=e.currentSlide+1;else i=1;return u(i,!0,"left"),!0},e.previousSlide=function(){if(e.currentSlide-1>=1)var i=e.currentSlide-1;else i=e.slideCount;return u(i,!0,"right"),!0},e.destroy=function(n){return clearInterval(e.intervalEvent),void 0!==n?(e.plugin.find(".ps-list > ul > li").each(function(){i(this).attr("style",null).removeClass().unbind("click"),i(this).html(i(this).find("span").html())}),e.plugin.find(".ps-current").remove(),e.plugin.find(".ps-list").find(".ps-prev, .ps-next").remove(),e.plugin.find(".ps-list > ul").addClass(e.config.mainClassName).attr("style",""),e.plugin.find(".ps-list > ul").unwrap().unwrap(),e.hide()):e.parent().parent().remove(),e.plugin=null,e.data=[],e.config={},e.currentSlide=0,e.slideCount=0,e.resizeEvent=null,e.intervalEvent=null,e.touchFirstPosition=null,e.window=null,!0},e.reload=function(n){return e.destroy(!0),(e=this).plugin=this,e.window=i(window),e.plugin.show(),e.config=i.extend({},t,n),r(),e.window.resize(function(){clearTimeout(e.resizeEvent),e.resizeEvent=setTimeout(function(){l();var i=e.plugin.find(".ps-current > ul > li.elt_"+e.currentSlide+" img").css("max-height","").height();s(i),e.config.displayList&&(p(),f())},100)}),e.config.autoSlide&&d(),!0},e.config=i.extend({},t,n),r(),e.config.displayList&&p(),e.window.resize(function(){clearTimeout(e.resizeEvent),e.resizeEvent=setTimeout(function(){l();var i=e.plugin.find(".ps-current > ul > li.elt_"+e.currentSlide+" img").height();s(i),e.config.displayList&&(p(),f())},100)}),e.config.autoSlide&&d(),this}}(window.Zepto||window.jQuery),function(i){i.pgwModal=function(n){var t={};if(void 0!==window.pgwModalObject&&(t=window.pgwModalObject),"object"==typeof n&&!n.pushContent){if(!n.url&&!n.target&&!n.content)throw new Error('PgwModal - There is no content to display, please provide a config parameter : "url", "target" or "content"');t.config={},t.config=i.extend({},{mainClassName:"pgwModal",backdropClassName:"pgwModalBackdrop",maxWidth:500,titleBar:!0,closable:!0,closeOnEscape:!0,closeOnBackgroundClick:!0,closeContent:'<span class="pm-icon"></span>',loadingContent:"Loading in progress...",errorContent:"An error has occured. Please try again in a few moments."},n),window.pgwModalObject=t}var e=function(){return i("#pgwModal .pm-title, #pgwModal .pm-content").html(""),i("#pgwModal .pm-close").html("").unbind("click"),!0},s=function(n){return i("#pgwModal .pm-content").html(n),t.config.angular&&angular.element("body").injector().invoke(function(n){var t=angular.element(i("#pgwModal .pm-content")).scope();n(i("#pgwModal .pm-content"))(t),t.$digest()}),o(),i(document).trigger("PgwModal::PushContent"),!0},o=function(){i("#pgwModal, #pgwModalBackdrop").show();var n=i(window).height(),t=i("#pgwModal .pm-body").height(),e=Math.round((n-t)/3);return e<=0&&(e=0),i("#pgwModal .pm-body").css("margin-top",e),!0},l=function(){i("#pgwModal, #pgwModalBackdrop").removeClass().hide(),i("body").css("padding-right","").removeClass("pgwModalOpen"),e(),i(window).unbind("resize.PgwModal"),i(document).unbind("keyup.PgwModal"),i("#pgwModal").unbind("click.PgwModalBackdrop");try{delete window.pgwModalObject}catch(i){window.pgwModalObject=void 0}return i(document).trigger("PgwModal::Close"),!0};return"string"==typeof n&&"close"==n?l():"string"==typeof n&&"reposition"==n?o():"string"==typeof n&&"getData"==n?t.config.modalData:"string"==typeof n&&"isOpen"==n?i("body").hasClass("pgwModalOpen"):"object"==typeof n&&n.pushContent?s(n.pushContent):"object"==typeof n?function(){if(0==i("#pgwModal").length?(i("body").append('<div id="pgwModalBackdrop"></div><div id="pgwModal"><div class="pm-container"><div class="pm-body"><span class="pm-close"></span><div class="pm-title"></div><div class="pm-content"></div></div></div></div>'),i(document).trigger("PgwModal::Create")):e(),i("#pgwModal").removeClass().addClass(t.config.mainClassName),i("#pgwModalBackdrop").removeClass().addClass(t.config.backdropClassName),t.config.closable?i("#pgwModal .pm-close").html(t.config.closeContent).click(function(){l()}).show():i("#pgwModal .pm-close").html("").unbind("click").hide(),t.config.titleBar?i("#pgwModal .pm-title").show():i("#pgwModal .pm-title").hide(),t.config.title&&i("#pgwModal .pm-title").text(t.config.title),t.config.maxWidth&&i("#pgwModal .pm-body").css("max-width",t.config.maxWidth),t.config.url){t.config.loadingContent&&i("#pgwModal .pm-content").html(t.config.loadingContent);var r={url:n.url,success:function(i){s(i)},error:function(){i("#pgwModal .pm-content").html(t.config.errorContent)}};t.config.ajaxOptions&&(r=i.extend({},r,t.config.ajaxOptions)),i.ajax(r)}else t.config.target?s(i(t.config.target).html()):t.config.content&&s(t.config.content);t.config.closeOnEscape&&t.config.closable&&i(document).bind("keyup.PgwModal",function(i){27==i.keyCode&&l()}),t.config.closeOnBackgroundClick&&t.config.closable&&i("#pgwModal").bind("click.PgwModalBackdrop",function(n){var t=i(n.target).hasClass("pm-container"),e=i(n.target).attr("id");(t||"pgwModal"==e)&&l()}),i("body").addClass("pgwModalOpen");var a=function(){var n=i('<div style="width:50px;height:50px;overflow:auto"><div></div></div>').appendTo("body"),t=n.children();if("function"!=typeof t.innerWidth)return 0;var e=t.innerWidth()-t.height(90).innerWidth();return n.remove(),e}();return a>0&&i("body").css("padding-right",a),i(window).bind("resize.PgwModal",function(){o()}),i(document).trigger("PgwModal::Open"),!0}():void 0}}(window.Zepto||window.jQuery);